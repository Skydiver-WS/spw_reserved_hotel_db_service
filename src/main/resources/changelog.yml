databaseChangeLog:
- changeSet:
    id: 1
    author: Admin (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            defaultValueNumeric: 0
            name: count_apart
            type: INTEGER
        - column:
            name: distance
            type: FLOAT8
        - column:
            name: rating
            type: FLOAT8
        - column:
            name: count_comments
            type: BIGINT
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: hotel_pkey
            name: id
            type: BIGINT
        - column:
            name: version
            type: BIGINT
        - column:
            name: address
            type: VARCHAR(255)
        - column:
            name: city
            type: VARCHAR(255)
        - column:
            name: description
            type: VARCHAR(255)
        - column:
            name: name
            type: VARCHAR(255)
        - column:
            name: user_id
            type: VARCHAR(255)
        tableName: hotel
    - createTable:
        columns:
        - column:
            name: coast
            type: FLOAT8
        - column:
            name: hotel_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: room_pkey
            name: id
            type: BIGINT
        - column:
            name: number_apart
            type: BIGINT
        - column:
            name: version
            type: BIGINT
        - column:
            name: class_room_type
            type: VARCHAR(255)
        - column:
            name: description
            type: VARCHAR(255)
        tableName: room
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: comment_id
            type: UUID
        - column:
            constraints:
              nullable: false
            name: photos_id
            type: UUID
        tableName: comment_photos
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: hotel_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: comments_id
            type: UUID
        tableName: hotel_comments
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: hotel_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: photos_id
            type: UUID
        tableName: hotel_photos
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: room_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: photo_list_id
            type: UUID
        tableName: room_photo_list
    - addUniqueConstraint:
        columnNames: name, city, address
        constraintName: hotel_name_city_address_key
        tableName: hotel
    - addUniqueConstraint:
        columnNames: number_apart, hotel_id
        constraintName: room_number_apart_hotel_id_key
        tableName: room
    - addUniqueConstraint:
        columnNames: photos_id
        constraintName: comment_photos_photos_id_key
        tableName: comment_photos
    - addUniqueConstraint:
        columnNames: comments_id
        constraintName: hotel_comments_comments_id_key
        tableName: hotel_comments
    - addUniqueConstraint:
        columnNames: photos_id
        constraintName: hotel_photos_photos_id_key
        tableName: hotel_photos
    - addUniqueConstraint:
        columnNames: photo_list_id
        constraintName: room_photo_list_photo_list_id_key
        tableName: room_photo_list
    - createSequence:
        cacheSize: 1
        cycle: false
        dataType: bigint
        incrementBy: 50
        maxValue: 9223372036854775807
        minValue: 1
        sequenceName: hotel_seq
        startValue: 1
    - createSequence:
        cacheSize: 1
        cycle: false
        dataType: bigint
        incrementBy: 50
        maxValue: 9223372036854775807
        minValue: 1
        sequenceName: room_seq
        startValue: 1
    - createTable:
        columns:
        - column:
            name: created
            type: TIMESTAMP WITHOUT TIME ZONE
        - column:
            name: end_reserved
            type: TIMESTAMP WITHOUT TIME ZONE
        - column:
            constraints:
              nullable: false
            name: room_id
            type: BIGINT
        - column:
            name: start_reserved
            type: TIMESTAMP WITHOUT TIME ZONE
        - column:
            name: version
            type: BIGINT
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: booking_pkey
            name: id
            type: UUID
        - column:
            name: user_id
            type: VARCHAR(255)
        tableName: booking
    - createTable:
        columns:
        - column:
            name: estimation
            type: FLOAT8
        - column:
            name: created
            type: TIMESTAMP WITHOUT TIME ZONE
        - column:
            name: hotel_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: comment_pkey
            name: id
            type: UUID
        - column:
            name: comment
            type: TEXT
        - column:
            name: user_id
            type: VARCHAR(255)
        tableName: comment
    - createTable:
        columns:
        - column:
            name: hotel_id
            type: BIGINT
        - column:
            name: room_id
            type: BIGINT
        - column:
            name: comment_id
            type: UUID
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: photo_pkey
            name: id
            type: UUID
        - column:
            name: photo
            type: TEXT
        tableName: photo
    - addForeignKeyConstraint:
        baseColumnNames: hotel_id
        baseTableName: hotel_comments
        constraintName: fk4a7gij3rttf8olnbrwfcvc8v4
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: hotel
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: hotel_id
        baseTableName: photo
        constraintName: fk4sf4oxc24usshr60sx6hf0167
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: hotel
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: hotel_id
        baseTableName: hotel_photos
        constraintName: fk52jhrhwweojwbyg5nrmpmfdt9
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: hotel
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: photos_id
        baseTableName: hotel_photos
        constraintName: fk66aiixnbujal159jqnukf75ss
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: photo
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: photos_id
        baseTableName: comment_photos
        constraintName: fk8uh6p2xvkx3xk4bkjsuxx0n21
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: photo
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: room_id
        baseTableName: photo
        constraintName: fk97j0brycov37q9i6bhc1as9k2
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: room
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: hotel_id
        baseTableName: room
        constraintName: fkdosq3ww4h9m2osim6o0lugng8
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: hotel
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: hotel_id
        baseTableName: comment
        constraintName: fkej6lhabpn9qvujgc51lqlkmur
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: hotel
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: comment_id
        baseTableName: comment_photos
        constraintName: fkfkbht0471e703qufthde1n8ch
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: comment
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: room_id
        baseTableName: room_photo_list
        constraintName: fkndk1mjq4gl1un9w5ucfd9u20w
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: room
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: comments_id
        baseTableName: hotel_comments
        constraintName: fkosi0yed8me8g38xqjw4lg2ek3
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: comment
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: room_id
        baseTableName: booking
        constraintName: fkq83pan5xy2a6rn0qsl9bckqai
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: room
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: photo_list_id
        baseTableName: room_photo_list
        constraintName: fkquiyskiol96ok4fah2rssua5s
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: photo
        validate: true
    - addForeignKeyConstraint:
        baseColumnNames: comment_id
        baseTableName: photo
        constraintName: fksm3nsiqunp5ke6cmkundcw4a1
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: comment
        validate: true

